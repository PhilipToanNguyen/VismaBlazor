@inherits LayoutComponentBase
@using Microsoft.AspNetCore.Components.Authorization
@using Radzen
@using Radzen.Blazor

<RadzenLayout>
    <RadzenHeader class="bg-white">
        <RadzenStack Orientation="Orientation.Vertical" AlignItems="AlignItems.Center" Style="margin: 10px">
            
            <RadzenImage Path="images/logo.png" Style="width: 10rem" AlternateText="community" />
        </RadzenStack>
    </RadzenHeader>

    <RadzenSidebar Responsive="false" Style="width: max-content">
        <RadzenPanelMenu DisplayStyle="@(sidebarExpanded ? MenuItemDisplayStyle.IconAndText : MenuItemDisplayStyle.Icon)" ShowArrow="false">
            <RadzenPanel>
                @user
            </RadzenPanel>
            <RadzenPanelMenuItem Text="Hjem" Icon="home" Path="" />
            <RadzenPanelMenuItem Text="Import" Icon="file_upload" Path="Importer" />
            <RadzenPanelMenuItem Text="Generator" Icon="create" Path="Generator" />
            <RadzenPanelMenuItem Text="Logg ut" Icon="logout" Path="/Account/Logout" class="" />
        </RadzenPanelMenu>
    </RadzenSidebar>

    <RadzenBody>
        <div class="rz-p-4">
            @Body
        </div>
    </RadzenBody>



</RadzenLayout>
<RadzenFooter class="rz-text-align-center shadow">
    <RadzenText TextStyle="TextStyle.Overline" class="p-2">Datagenerator ┃ Gruppe 5 ┃ @@2024 </RadzenText>

</RadzenFooter>
@code {
    bool sidebarExpanded = true;

    private string user = "";

    [CascadingParameter]

    private Task<AuthenticationState>? authenticationState { get; set; }

    


    protected override async void OnInitialized()
    {
        if (authenticationState is not null)
        {
            var state = await authenticationState;

            user = state.User.Identity?.Name ?? "";

        }

        await base.OnInitializedAsync();


    }





}